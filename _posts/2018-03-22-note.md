---
layout: post
title: 编程的碎碎念
description:  记录平常的碎碎念,有机会整理成文章
categories:
- 技术
tags:
- go
---

ubuntu 默认会把 coredump 转发到 apport 这个胶水层，而它又默认把 apport 关掉的。。
所以docker 镜像选择 ubuntu 做系统时，要注意把 appportr 打开
https://wiki.ubuntu.com/Apport

---

跟 合作的公司 对接文档，踩了无数个坑。总结一下经验：
1. 不要相信任何人的文档。。如果有代码示例，文档做背景，用代码来理解，一切按代码来。
2. 失败时，搭环境跑他们的代码
3. 涉及到 json encode， 一定要注意不同语言的 encode 方法（key-word 的顺序）是不一样的，问清楚如何排序（我遇到的是没有任何说明，而 node 跟 PHP 的刚好是排序一样）
4. http 协议类型， www-url-encode, json 还有 text。。。往往也是不写的，要问清楚。。。。。
5. 写单元测试。这次我已经很聪明的按照文档的例子写了几个确认 签名，加密，解密正确性的例子了，对我帮助很大。。起码跑一下测试就可以，不用再模拟一些数据

---

关于虚拟机的网络，有三种网络模式可选：
1. NAT 模式
* 此模式会将宿主机作为网关，虚拟机出口跟进口的网络包都要经过虚拟机管理软件做 NAT 转换；因为宿主机很多时候并不会开放太多端口，所以需要注意宿主机的端口有没有开放，iptables 可以查看。
2. 桥接模式
* 此模式将虚拟机当做是一台独立的主机，有自己的内网 ip 跟外网 ip，与宿主机彻底分开。我推荐使用此模式，可以减少很多麻烦。
3. 主机模式
* 此模式限定虚拟机尽可以与宿主机通信，两者组成一个局域网。

---


